# 9.Spring AOP

### 一、概述

1.AOP是Aspect Oriented Programming的缩写，意思是**面向切面编程**。

2.AOP是一种思想，不是Spring中特有的。

3.AOP的实现可以分为两类：静态AOP、动态AOP。

- 静态 AOP 实现， AOP 框架在编译阶段对程序源代码进行修改，生成了静态的 AOP 代理类（生成的 *.class 文件已经被改掉了，需要使用特定的编译器），比如 AspectJ。
- 动态 AOP 实现， AOP 框架在运行阶段对动态生成代理对象（在内存中以 JDK 动态代理，或 CGlib 动态地生成 AOP 代理类），如 SpringAOP。

4.AOP通俗来说就是在不改变原有代码逻辑的基础上，对代码实现增强。

### 二、相关概念

1.连接点(Joint point):在Spring中，连接点表示可以被增强的方法。

2.切点(PointCut):可以插入增强处理的连接点。可以被增强的方法很多，切点是真正被增强的方法。定义了增强真正要发生的地方。

3.通知(Advice)，也叫增强。描述了切面何时执行以及如何执行增强处理。增强是织入到目标类连接点上的一段代码。通知分为下面几类：

- 前置通知(before):在执行业务代码前做些操作，比如获取连接对象
- 后置通知(after):在执行业务代码后做些操作，无论是否发生异常，它都会执行，比如关闭连接对象
- 异常通知（afterThrowing）:在执行业务代码后出现异常，需要做的操作，比如回滚事务
- 返回通知(afterReturning),在执行业务代码后无异常，会执行的操作
- 环绕通知(around)，在执行业务代码前后都执行的操作

4.目标对象(Target)，需要被加强的业务对象。

5.切面（Aspect），Aspect 声明类似于 Java 中的类声明，在 Aspect 中会包含着一些 Pointcut 以及相应的 Advice。通常被注解@Aspect修饰。

